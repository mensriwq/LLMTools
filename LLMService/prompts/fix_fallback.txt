We are in FALLBACK MODE. Standard fixes failed.

1. Full Theorem Statement:
   {thm_decl}

2. CONTEXT
   Failed Code (from last attempt):
   ```lean
   {prev_tactic}
   ```
   Error Message: {error_msg}

3. DIAGNOSIS
   {diagnosis}

4. SEARCH RESULTS
   {search_results}

5. CURRENT GOAL
   {goal_state}

INSTRUCTIONS:
1. Fix the syntax/type errors.
2. Replace impossible steps with `sorry`.
3. Return the admitted code.
